<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sera Community Food Trip Guide | The World's Best Restaurants</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font family -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* Apply the brand font family and dark background */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1A1A1A; /* Primary Black from Brand Guidelines */
            color: #F4F4F4; /* Secondary White/Cream */
        }
        /* Custom gold accent color for borders and highlights */
        .text-sera-gold { color: #C5A358; } /* Accent Deep Gold/Brass */
        .border-sera-gold { border-color: #C5A358; }
        .bg-sera-gold { background-color: #C5A358; }

        /* Custom scrollbar styling for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #282828;
        }
        ::-webkit-scrollbar-thumb {
            background: #444444;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #C5A358;
        }

        /* Styling for the list items in the main content */
        .food-trip-list li {
            position: relative;
            padding-left: 1.5rem; /* Space for the bullet/icon */
            margin-bottom: 0.5rem;
        }

        .food-trip-list li::before {
            content: '•'; /* Simple bullet point */
            color: #C5A358; /* Gold color */
            font-weight: 900;
            position: absolute;
            left: 0;
            top: 0;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header / Navigation -->
    <header class="sticky top-0 z-50 bg-black/90 backdrop-blur-sm border-b border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20">
                <!-- Logo/Title - NOW USING THE UPLOADED IMAGE FILE -->
                <div class="flex-shrink-0">
                    <a href="#intro" class="flex items-center">
                        <img 
                            src="sera_logo_horizontal.jpeg" 
                            alt="Sera Food Trips Logo" 
                            class="h-8 w-auto mr-3"
                            onerror="this.onerror=null;this.src='https://placehold.co/150x32/1A1A1A/C5A358?text=SERA+LOGO';" 
                        />
                    </a>
                </div>

                <!-- Navigation Links -->
                <nav class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#intro" class="text-gray-300 hover:text-sera-gold px-3 py-2 rounded-md text-sm font-medium transition duration-200">Guide Intro</a>
                        <a href="#highlights" class="text-gray-300 hover:text-sera-gold px-3 py-2 rounded-md text-sm font-medium transition duration-200">Highlights</a>
                        <a href="#ai-planner" class="text-gray-300 hover:text-sera-gold px-3 py-2 rounded-md text-sm font-medium transition duration-200">AI Planner</a>
                        <a href="https://eatwithsera.com" target="_blank" class="bg-sera-gold text-black hover:bg-yellow-600 px-3 py-2 rounded-lg text-sm font-medium transition duration-200 shadow-md">Join Sera</a>
                    </div>
                </nav>

                <!-- Mobile Menu Button - Placeholder -->
                <div class="md:hidden">
                    <button class="text-gray-400 hover:text-white focus:outline-none focus:text-white">
                        <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">

        <!-- Banner Image Section -->
        <section class="w-full mx-auto mt-6 mb-12" id="banner-image">
            <div class="relative w-full h-64 sm:h-72 overflow-hidden rounded-xl shadow-2xl shadow-black/50 border border-gray-800">
                <img 
                    src="https://eatwithsera.com/assets/img/home-community-v1.png" 
                    alt="Sera Community members enjoying various meals and cuisines together"
                    class="w-full h-full object-cover object-center"
                    onerror="this.onerror=null;this.src='https://placehold.co/1200x288/282828/C5A358?text=Sera+Community+Banner+Image+Placeholder'"
                >
                <div class="absolute inset-0 bg-black/20"></div>
            </div>
        </section>

        <!-- Hero/Intro Section -->
        <section id="intro" class="text-center py-16 border-b border-gray-800">
            <h2 class="text-5xl sm:text-6xl font-black mb-4 text-white leading-tight">
                Community-Recommended Food Trips
            </h2>
            <p class="text-xl text-gray-400 max-w-3xl mx-auto mb-8">
                A Sera Guide to Where to Eat Around the World
            </p>
            <p class="text-lg text-gray-300 max-w-4xl mx-auto mb-10">
                If you plan your holidays around what you’re going to eat, you’re in the right place. This guide is built entirely from the Sera community’s own travel recommendations—the places they queue for, dream about on the flight home, and insist their friends book now. Use it to plan your next food trip, bolt a great meal onto a work trip, or just daydream between bookings.
            </p>

            <h3 class="text-2xl font-bold text-sera-gold mb-4">How to Use This Guide</h3>
            <ul class="text-md text-gray-300 max-w-2xl mx-auto space-y-2 text-left list-disc list-inside">
                <li>Pick your country or city and scan for the names that keep popping up in our community chats.</li>
                <li>Expect a mix of high-end tasting menus, local institutions, street food, wine bars, bakeries and coffee spots.</li>
                <li>Everything here is community-recommended—nothing sponsored, no PR briefs, just places our people genuinely loved.</li>
            </ul>
        </section>

        <!-- Table of Contents -->
        <section id="highlights" class="py-12 border-b border-gray-800">
            <h2 class="text-4xl font-black text-white mb-8 text-center">Global Highlights</h2>

            <div class="grid md:grid-cols-2 gap-12 text-gray-300">

                <!-- Latin America -->
                <div>
                    <h3 class="text-2xl font-extrabold text-sera-gold mb-4 border-b border-gray-700 pb-2">Latin America: Big Flavours, Big Memories</h3>
                    <div class="space-y-6">
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">Argentina – Buenos Aires & Mendoza</h4>
                            <p class="text-sm italic text-gray-400 mb-3">Buenos Aires is a dream for anyone who loves beef, wine and late nights.</p>
                            <ul class="food-trip-list text-md">
                                <li>Lo de Jesús – Classic parrilla with perfectly grilled meat and a serious wine list.</li>
                                <li>Anchoita & Anchoita Cava – Frequently called some of the best spots in the city; one for people who love good food and good wine.</li>
                                <li>Gran Dabbang – Fusion plates mixing Indian, Southeast Asian and Argentine flavours.</li>
                                <li>El Preferido de Palermo, Parrilla Don Julio – Classic, must-do steakhouse experiences.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Asia -->
                <div>
                    <h3 class="text-2xl font-extrabold text-sera-gold mb-4 border-b border-gray-700 pb-2">Asia: Street Food, Sushi, & Serious Innovation</h3>
                    <div class="space-y-6">
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">Japan – Tokyo</h4>
                            <p class="text-sm italic text-gray-400 mb-3">The home of sushi, yakitori, ramen, and so many ways to eat well. Go deep.</p>
                            <ul class="food-trip-list text-md">
                                <li>Sushi Sora – High-end sushi experience.</li>
                                <li>Torishiki – Highly sought-after yakitori.</li>
                                <li>Pizzakaya – Excellent casual pizza.</li>
                                <li>Fu-unji – Famous for rich, flavourful Tsukemen (dipping ramen).</li>
                            </ul>
                        </div>
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">Hong Kong</h4>
                            <ul class="food-trip-list text-md">
                                <li>Maka Hiki – Polynesian food/tiki vibes.</li>
                                <li>The Chairman – Contemporary Cantonese cuisine.</li>
                                <li>Ho Lee Fook – Chinese-American food.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Europe -->
                <div class="md:col-span-2">
                    <h3 class="text-2xl font-extrabold text-sera-gold mb-4 border-b border-gray-700 pb-2">Europe: Wine Bars, Markets & Italian Institutions</h3>
                    <div class="grid sm:grid-cols-2 gap-6">
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">Italy – Florence & Rome</h4>
                            <p class="text-sm italic text-gray-400 mb-3">Sandwiches, pasta, and the kind of long lunches you won't forget.</p>
                            <ul class="food-trip-list text-md">
                                <li>All’Antico Vinaio (Florence) – Huge, legendary sandwiches you queue for.</li>
                                <li>Trattoria Mario (Florence) – Classic Florentine fare.</li>
                                <li>Ditta Artigianale (Florence) – Great coffee.</li>
                                <li>Trapizzino (Rome) – Roman street food institution.</li>
                            </ul>
                        </div>
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">Portugal – Lisbon</h4>
                            <ul class="food-trip-list text-md">
                                <li>Time Out Market – Great for groups and variety.</li>
                                <li>Tasca do Chico – Fado and local food.</li>
                                <li>Ponto Final – Great views and fresh seafood.</li>
                            </ul>
                        </div>
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">Spain – Barcelona</h4>
                            <ul class="food-trip-list text-md">
                                <li>Bar del Pla – Creative, high-quality tapas.</li>
                                <li>Bodega Maestrazgo – Incredible wines and cured meats.</li>
                                <li>Bar Mut – Classic, high-end Catalan bistro.</li>
                            </ul>
                        </div>
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">France – Paris</h4>
                            <ul class="food-trip-list text-md">
                                <li>Septime – Modern French fine dining.</li>
                                <li>Le Dauphin – Small plates and natural wine.</li>
                                <li>Le Cinq – Three-Michelin-starred classic.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- North America -->
                <div>
                    <h3 class="text-2xl font-extrabold text-sera-gold mb-4 border-b border-gray-700 pb-2">North America: Steakhouses, Sushi & Soul Food</h3>
                    <div class="space-y-6">
                         <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">New York</h4>
                            <ul class="food-trip-list text-md">
                                <li>Le Bernardin – One of the world’s best seafood restaurants.</li>
                                <li>Carbone – Classic Italian-American dining.</li>
                                <li>4 Charles Prime Rib – Cozy, premium steakhouse.</li>
                                <li>Atomix – Upscale Korean fine dining.</li>
                            </ul>
                        </div>
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">San Francisco & Seattle</h4>
                            <ul class="food-trip-list text-md">
                                <li>Zuni Café (SF) – Famous for its roast chicken and bread salad.</li>
                                <li>House of Prime Rib, Harris’ Steakhouse, Mister Jiu’s (SF) – Other top-tier SF spots.</li>
                                <li>Canlis, Needle & Thread (Seattle) – Key Seattle names.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Miami -->
                <div>
                    <div class="space-y-6 mt-12 md:mt-0">
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">Miami</h4>
                            <ul class="food-trip-list text-md">
                                <li>Versailles, El Sanguich, Cafe La Trova, Tinta y Cafe – Beloved Cuban institutions.</li>
                                <li>Uchi, Hiyakawa – Excellent sushi.</li>
                                <li>Swan, The Surf Club – See-and-be-seen spots.</li>
                                <li>La Bodega, Monty’s – Late-night stops.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- UK & Ireland -->
                 <div class="md:col-span-2">
                    <h3 class="text-2xl font-extrabold text-sera-gold mb-4 border-b border-gray-700 pb-2">The UK & Ireland: Weekenders Worth Booking</h3>
                    <div class="grid sm:grid-cols-2 gap-6">
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">UK Highlights (Whitstable, Cotswolds, Manchester)</h4>
                            <ul class="food-trip-list text-md">
                                <li>Whitstable – Wheelers and Whitstable Oyster Company.</li>
                                <li>Yorkshire – Roots and The Star Inn.</li>
                                <li>Cotswolds Pubs – The Bull, The Swan, The Lamb Inn, and The Bell.</li>
                                <li>Manchester – Psycho Sandbar, El Gato Negro, Kala, Mackie Mayor, and deep dish at Ramonas.</li>
                            </ul>
                        </div>
                        <div class="bg-gray-800/50 p-4 rounded-lg shadow-inner">
                            <h4 class="text-xl font-bold text-white mb-2">Ireland Highlights (Cork & West-coast)</h4>
                            <ul class="food-trip-list text-md">
                                <li>Cork – Paradiso (seasonal vegetarian), Elbow Lane, and Market Lane.</li>
                                <li>West-coast – The Misunderstood Heron hut and An Port Mór (for views with your seafood).</li>
                            </ul>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- AI Food Research Tool Section - Renamed to Planner -->
        <section id="ai-planner" class="py-20 border-t border-gray-800">
            <h2 class="text-4xl font-black text-white text-center mb-4">AI Food Trip Planner</h2>
            <p class="text-lg text-gray-400 max-w-2xl mx-auto mb-8 text-center">
                Tell our AI Food Trip Planner your destination (e.g., '3 days in Lisbon') or ask for recommendations on specific cuisine to start building your next itinerary. Powered by Gemini and Google Search for grounded insights.
            </p>

            <div class="max-w-3xl mx-auto p-6 bg-gray-900 rounded-xl shadow-2xl">
                <textarea id="prompt-input" rows="3" 
                          class="w-full p-3 bg-gray-800 text-gray-200 border border-gray-700 rounded-lg focus:ring-sera-gold focus:border-sera-gold resize-none placeholder-gray-500"
                          placeholder="Example: 'Create a 3-day itinerary for a Michelin-star dining trip to Paris.'"
                ></textarea>

                <button id="search-button" 
                        class="mt-4 w-full px-4 py-3 bg-sera-gold text-black text-lg font-bold rounded-lg shadow-lg hover:bg-yellow-600 transition duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                    Generate Food Trip Plan
                </button>

                <!-- Output Area -->
                <div id="loading-indicator" class="hidden mt-6 text-center">
                    <div class="w-8 h-8 border-4 border-t-4 border-sera-gold border-gray-700 rounded-full animate-spin mx-auto"></div>
                    <p class="text-gray-400 mt-2">Fetching itinerary...</p>
                </div>

                <div id="output-container" class="mt-6 border border-gray-700 p-4 rounded-lg bg-gray-800/50 hidden">
                    <p id="ai-output" class="text-gray-200 whitespace-pre-wrap"></p>
                    <div id="sources-output" class="mt-4 pt-4 border-t border-gray-700 text-sm text-gray-400"></div>
                </div>
            </div>
        </section>


    </main>

    <!-- Footer -->
    <footer class="bg-black/90 mt-16 border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center text-sm text-gray-500">
            <p>© 2025 Sera • Gourmeta Ltd. | Bringing People and Food Together.</p>
            <p class="mt-2 space-x-4">
                <a href="https://eatwithsera.com/faqs" target="_blank" class="hover:text-sera-gold transition duration-200">FAQs</a>
                <a href="https://eatwithsera.com/contact" target="_blank" class="hover:text-sera-gold transition duration-200">Contact</a>
            </p>
        </div>
    </footer>

    <script>
        const searchButton = document.getElementById('search-button');
        const promptInput = document.getElementById('prompt-input');
        const loadingIndicator = document.getElementById('loading-indicator');
        const outputContainer = document.getElementById('output-container');
        const aiOutput = document.getElementById('ai-output');
        const sourcesOutput = document.getElementById('sources-output');

        const modelName = 'gemini-2.5-flash-preview-09-2025';
        const apiKey = ""; // API key is provided at runtime

        /**
         * Fetches content from the Gemini API with Google Search grounding and handles retries.
         * @param {string} userQuery The user's input prompt.
         * @param {number} maxRetries Maximum number of retries.
         * @param {number} delay Initial delay for exponential backoff.
         */
        async function fetchAIGeneratedContent(userQuery, maxRetries = 3, delay = 1000) {
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/${modelName}:generateContent?key=${apiKey}`;

            // Updated system prompt to focus on Food Trip Planning
            const systemPrompt = "You are a world-class Food Trip Planner and Culinary Guide. Use Google Search to find current and factual information. Your goal is to help the user plan their next culinary journey. If the user asks for a city or location, suggest a high-level, sample itinerary (e.g., 3-day plan) focusing on highly recommended dining spots. If they ask about a dish or restaurant, provide a detailed summary. Provide a concise, professional, and well-structured answer. Always include accurate citations for any information you find.";

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                tools: [{ "google_search": {} }], // Enable Google Search grounding
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                },
            };

            for (let i = 0; i < maxRetries; i++) {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (response.status === 429 && i < maxRetries - 1) {
                        // Rate limit error, wait and retry
                        await new Promise(resolve => setTimeout(resolve, delay));
                        delay *= 2; // Exponential backoff
                        continue; 
                    }

                    if (!response.ok) {
                        throw new Error(`API call failed with status: ${response.status}`);
                    }

                    const result = await response.json();
                    const candidate = result.candidates?.[0];

                    if (!candidate || !candidate.content?.parts?.[0]?.text) {
                        throw new Error("Received an invalid response structure from the API.");
                    }

                    const text = candidate.content.parts[0].text;
                    let sources = [];
                    const groundingMetadata = candidate.groundingMetadata;

                    if (groundingMetadata && groundingMetadata.groundingAttributions) {
                        sources = groundingMetadata.groundingAttributions
                            .map(attribution => ({
                                uri: attribution.web?.uri,
                                title: attribution.web?.title,
                            }))
                            .filter(source => source.uri && source.title);
                    }

                    return { text, sources };

                } catch (error) {
                    console.error('Error during API fetch attempt', i + 1, ':', error);
                    if (i === maxRetries - 1) {
                        // Throw error if max retries reached
                        throw new Error("Failed to fetch content after multiple retries.");
                    }
                    // Wait before the next retry (only for network/unforeseen errors, 429 is handled above)
                    await new Promise(resolve => setTimeout(resolve, delay));
                    delay *= 2; 
                }
            }
        }

        searchButton.addEventListener('click', async () => {
            const userQuery = promptInput.value.trim();
            if (!userQuery) {
                aiOutput.textContent = "Please enter a culinary query or a trip itinerary request (e.g., '3 days in Rome').";
                sourcesOutput.innerHTML = '';
                outputContainer.classList.remove('hidden');
                return;
            }

            // UI updates for loading state
            searchButton.disabled = true;
            loadingIndicator.classList.remove('hidden');
            outputContainer.classList.add('hidden');
            aiOutput.textContent = '';
            sourcesOutput.innerHTML = '';

            try {
                const result = await fetchAIGeneratedContent(userQuery);

                // Display the generated text
                aiOutput.textContent = result.text;

                // Display the sources/citations
                if (result.sources.length > 0) {
                    let sourcesHtml = '<p class="font-semibold text-sera-gold mb-1">Sources/Citations:</p>';
                    sourcesHtml += '<ul class="list-disc ml-4 space-y-1">';

                    // Filter out duplicate URIs
                    const uniqueSources = Array.from(new Map(result.sources.map(item => [item.uri, item])).values());

                    uniqueSources.forEach(source => {
                        sourcesHtml += `<li><a href="${source.uri}" target="_blank" class="hover:text-white transition duration-200 underline">${source.title}</a></li>`;
                    });
                    sourcesHtml += '</ul>';
                    sourcesOutput.innerHTML = sourcesHtml;
                } else {
                    sourcesOutput.innerHTML = '<p class="italic">The AI model generated this plan based on its internal knowledge, or the grounding information was too generic to cite directly.</p>';
                }

                outputContainer.classList.remove('hidden');

            } catch (error) {
                console.error("Final search failure:", error);
                aiOutput.textContent = "An error occurred while fetching culinary insights. Please try again later or refine your query.";
                sourcesOutput.innerHTML = '';
                outputContainer.classList.remove('hidden');
            } finally {
                // UI cleanup
                searchButton.disabled = false;
                loadingIndicator.classList.add('hidden');
            }
        });
    </script>
</body>
</html>
